<!doctype html><html><head><title>Using Javascript completion including adding Google Chrome API in vim</title><meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><meta name=google-site-verification content><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name=viewport><meta content="telephone=no" name=format-detection><meta name=description content><meta name=renderer content="webkit"><meta name=theme-color content="#ffffff"><meta property="og:title" content="Using Javascript completion including adding Google Chrome API in vim"><meta property="og:description" content="YouCompleteMe is a very powerful code completion engine built for the vim editor. It has several completion engines for many languages including C/C++, Rust, Go, Python, Javascript among others. It contains two parts: a vim-plugin and a daemon.
A very simple explanation of how YouCompleteMe works is by starting a server whenever a file is opened whose filetype corresponds to one of the installed languages engines. After this, the file is analyzed by communicating with from vim using the vim plugin (client) to the daemon (server)."><meta property="og:type" content="article"><meta property="og:url" content="https://www.antoniojgutierrez.com/posts/2018-04-20-vim-ycm-tern-chrome-extension/"><meta property="article:published_time" content="2018-04-20T00:00:00+00:00"><meta property="article:modified_time" content="2018-04-20T00:00:00+00:00"><meta property="og:site_name" content="Murmurations of Neurons"><meta name=twitter:card content="summary"><meta name=twitter:title content="Using Javascript completion including adding Google Chrome API in vim"><meta name=twitter:description content="YouCompleteMe is a very powerful code completion engine built for the vim editor. It has several completion engines for many languages including C/C++, Rust, Go, Python, Javascript among others. It contains two parts: a vim-plugin and a daemon.
A very simple explanation of how YouCompleteMe works is by starting a server whenever a file is opened whose filetype corresponds to one of the installed languages engines. After this, the file is analyzed by communicating with from vim using the vim plugin (client) to the daemon (server)."><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-55399960-1','auto');ga('send','pageview');}</script><link type=text/css rel=stylesheet href=/vendor/css/bootstrap.min.css><link rel=stylesheet href=https://www.antoniojgutierrez.com/scss/journal.min.0f46f98b723f2aad4b02d9370bb6aa7848b5c2b2a5579642014082283683d2d8.css integrity="sha256-D0b5i3I/Kq1LAtk3C7aqeEi1wrKlV5ZCAUCCKDaD0tg=" media=screen><link rel=stylesheet href=https://www.antoniojgutierrez.com/scss/dark-mode.min.79c34391dbcff20df8b4dac718e2606701efcbfdb9f3b08447ac39ac9dc7b463.css integrity="sha256-ecNDkdvP8g34tNrHGOJgZwHvy/2587CER6w5rJ3HtGM=" media=screen><script src=/vendor/js/loadCSS.js></script><script>loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons");</script><script src=/js/toc.js></script><script src=https://cdn.jsdelivr.net/npm/vue-disqus@3/dist/vue-disqus.js></script></head><body><div id=app><div id=sideContainer class=side-container><a class="a-block nav-head false" href=https://www.antoniojgutierrez.com/><div class=nav-title>Murmurations of Neurons</div><div class=nav-subtitle>An exploration of ideas and thoughts on programming, computers, nature and life in general</div></a><div class=nav-link-list><a class="a-block nav-link-item false" href=/about>About me</a>
<a class="a-block nav-link-item active" href=/posts>Archive</a>
<a class="a-block nav-link-item false" href=/categories>Categories</a>
<a class="a-block nav-link-item false" href=/tags>Tags</a>
<a class="a-block nav-link-item false" href=/cv>CV</a>
<a class="a-block nav-link-item false" href=/index.xml>RSS Feed</a></div><div class=nav-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Antonio Gutierrez 2015-2021. CC-BY-NC 4.0</div></div><div id=extraContainer class=extra-container><div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }"></div><div class=pagination><a id=globalBackToTop class="pagination-action animated-visibility" href=#top :class="{ invisible: scrollY == 0 }"><i class="material-icons pagination-action-icon">keyboard_arrow_up</i></a>
<a type=button class=pagination-action id=darkModeToggleButton><span class="material-icons pagination-action-icon" id=darkModeToggleIcon>dark_mode</span></a></div></div><div class=single-column-drawer-container id=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }"><div class=drawer-content><div class=drawer-menu><a class="a-block drawer-menu-item false" href=/about>About me</a>
<a class="a-block drawer-menu-item active" href=/posts>Archive</a>
<a class="a-block drawer-menu-item false" href=/categories>Categories</a>
<a class="a-block drawer-menu-item false" href=/tags>Tags</a>
<a class="a-block drawer-menu-item false" href=/cv>CV</a>
<a class="a-block drawer-menu-item false" href=/index.xml>RSS Feed</a><div class=toc></div></div></div></div><transition name=fade><div id=drawer-mask v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div></transition><nav id=navBar class="navbar sticky-top navbar-light single-column-nav-container"><div id=navBackground class=nav-background></div><div class="container container-narrow nav-content"><button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer>
<i class=material-icons>menu</i></button>
<a id=navTitle class=navbar-brand href=https://www.antoniojgutierrez.com/>Murmurations of Neurons</a>
<button type=button class=nav-darkmode-toggle id=darkModeToggleButton2>
<i class=material-icons id=darkModeToggleIcon2>dark_mode</i></button></div></nav><div class=single-column-header-container id=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }"><a href=https://www.antoniojgutierrez.com/><div class=single-column-header-title>Murmurations of Neurons</div><div class=single-column-header-subtitle>An exploration of ideas and thoughts on programming, computers, nature and life in general</div></a></div><div id=content><div id=streamContainer class=stream-container><div ref=streamContainer class=stream-container><div class="post-list-container post-list-container-shadow"><div class=post><div class=post-head-wrapper-text-only><div class=post-title>Using Javascript completion including adding Google Chrome API in vim<div class=post-meta><time itemprop=datePublished>2018-04-20 00:00</time>
<i class=material-icons>schedule</i>
2 min
12 s.</div></div></div><div class=post-body-wrapper><div class=post-body v-pre><p><a href=https://github.com/Valloric/YouCompleteMe>YouCompleteMe</a> is a very powerful code completion engine built
for the vim editor. It has several completion engines for many languages
including C/C++, Rust, Go, Python, Javascript among others. It contains two
parts: a vim-plugin and a daemon.</p><p>A very simple explanation of how YouCompleteMe works is by starting a server
whenever a file is opened whose filetype corresponds to one of the installed
languages engines. After this, the file is analyzed by communicating with from
vim using the vim plugin (client) to the daemon (server).
<em>The languages for which YouCompleteMe provides auto completion are selected
are install time, therefore if you don&rsquo;t explicitly install it selecting a
language, autocompletion for that language will probably be disabled.</em></p><p>For Javascript, <a href=http://ternjs.net/>tern</a> is used for the code analysis. Tern itself
requires a <code>.tern-project</code> or a <code>.tern-config</code> file describing the specific
configuration in the root of the project or above or the home directory
respectively. Tern then opens a server in a unused port that listens for POST
requests from a client that asks questions about the code in the form of JSON.</p><p>When vim is started is runs tern in a separate process and starts the
querying whenever possible as described before.</p><p>In addition, tern supports server plugins, which are normal Javascript
programs that add extra functionality to the server. There are a few plugins
that come with the distribution such as doc and nodejs.</p><p>Now what if I wanted to develop a Chrome Extension and wanted the
autocompletion for the Chrome API in vim?</p><p>Well since tern supports this it would be only a matter of installing the tern
plugin and adding the plugin to the <code>.tern-project</code>.</p><p>First installing the tern Chrome Extension:
I found this <a href=https://www.npmjs.com/package/tern-chrome-extension>tern-chrome-extension</a> which worked
pretty well.</p><p>And we can&rsquo;t just install it in the project directory that would install it in
the <code>node modules</code> but vim(and tern) would be aware of it. We have to install it
in <code>node_modules</code> of the tern instance that&rsquo;s run by vim.</p><p>To find it we run, with a vim instance reading a Javascript file:</p><pre><code>ps aux | grep tern
</code></pre><p>We find that the process is running as:</p><pre><code>/usr/bin/node /home/user/.vim/bundle/YouCompleteMe/third_party/ycmd/third_party/tern_runtime/node_modules/tern/bin/tern --port 46973 --host 127.0.0.1 --persistent --no-port-file
</code></pre><p>We want to navigate to this directory <code>/home/user/.vim/bundle/YouCompleteMe/third_party/ycmd/third_party/tern_runtime/</code>, because the <code>node_modules</code> is the place where we want it to be installed.</p><p>We run:</p><pre><code>npm install --prefix . tern-chrome-extension
</code></pre><p>And we make sure everything went ok by checking if there&rsquo;s a directory with
that name in <code>node_modules</code> or in the <code>package.json</code></p><pre><code>$ cat package.json
{
  &quot;description&quot;: &quot;ycmd tern runtime area with required tern version and plugins&quot;,
  &quot;dependencies&quot;: {
    &quot;tern&quot;: &quot;0.21.0&quot;,
    &quot;tern-chrome-extension&quot;: &quot;^46.1.20160420&quot;
  }
}
</code></pre><p>Now all that&rsquo;s needed to create/edit the <code>.tern-project</code> file, and add the
chrome-extension to the plugins section.</p><pre><code>$ cat .tern-project
{
  &quot;libs&quot;: [
        &quot;browser&quot;,
        &quot;ecma5&quot;
  ],
  &quot;plugins&quot;: {
      &quot;node&quot;: {},
      &quot;chrome-extension&quot;: {}
  }
}
</code></pre><p>That&rsquo;s it! Now you can enjoy having the Chrome API completion in vim.</p><hr width=100% id=EOF><p style=color:#777>Last modified on 2018-04-20</p><p class=verify-in-keybase>You can make sure that the author wrote this post by copy-pasting <a href=https://raw.githubusercontent.com/chibby0ne/chibby0ne.github.io/master/posts_signatures/2018-04-20-vim-ycm-tern-chrome-extension.asc>this signature</a> into <a href=https://keybase.io/verify>this Keybase page</a>.</p></div></div><nav class=post-pagination><a class=newer-posts href=https://www.antoniojgutierrez.com/posts/2018-05-07-log_base_10_vs_log_base_e_notation/>Next<br>Log base 10 vs Log base e notation</a>
<a class=older-posts href=https://www.antoniojgutierrez.com/posts/2018-04-09-automounting_systemd/>Previous<br>Automount SMB directory with systemd in Arch</a></nav><div class=post-comment-wrapper><div id=disqus_thread></div><script>var disqus_config=function(){this.page.url='https:\/\/www.antoniojgutierrez.com\/posts\/2018-04-20-vim-ycm-tern-chrome-extension\/';this.page.identifier='https:\/\/www.antoniojgutierrez.com\/posts\/2018-04-20-vim-ycm-tern-chrome-extension\/';};(function(){var d=document,s=d.createElement('script');s.src='https://antoniojgutierrez.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript></div></div></div></div></div></div><div id=single-column-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Antonio Gutierrez 2015-2021. CC-BY-NC 4.0</div></div><script src=/js/journal.js></script></body></html>