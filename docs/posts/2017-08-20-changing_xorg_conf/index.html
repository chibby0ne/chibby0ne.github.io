<!doctype html><html><head><title>Removing of an Nvidia GPU from arch Linux with i3</title><meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><meta name=google-site-verification content><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name=viewport><meta content="telephone=no" name=format-detection><meta name=description content><meta name=renderer content="webkit"><meta name=theme-color content="#ffffff"><meta property="og:title" content="Removing of an Nvidia GPU from arch Linux with i3"><meta property="og:description" content="This post is to help me and other people that might have had this issue before (and mostly future me).
When you have installed an Nvidia GPU in Arch Linux with i3 as Window Manager (WM), you probably needed to install and nvidia or another similar package, which contains drivers and generally includes a tool that automatically creates/modifies the Xorg configuration file (Xorg.conf), for the correct operation of the GPU in Arch and i3."><meta property="og:type" content="article"><meta property="og:url" content="https://www.antoniojgutierrez.com/posts/2017-08-20-changing_xorg_conf/"><meta property="article:published_time" content="2017-08-20T00:00:00+00:00"><meta property="article:modified_time" content="2017-08-20T00:00:00+00:00"><meta property="og:site_name" content="Murmurations of Neurons"><meta name=twitter:card content="summary"><meta name=twitter:title content="Removing of an Nvidia GPU from arch Linux with i3"><meta name=twitter:description content="This post is to help me and other people that might have had this issue before (and mostly future me).
When you have installed an Nvidia GPU in Arch Linux with i3 as Window Manager (WM), you probably needed to install and nvidia or another similar package, which contains drivers and generally includes a tool that automatically creates/modifies the Xorg configuration file (Xorg.conf), for the correct operation of the GPU in Arch and i3."><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-55399960-1','auto');ga('send','pageview');}</script><link rel=stylesheet href=/scss/journal.min.0f46f98b723f2aad4b02d9370bb6aa7848b5c2b2a5579642014082283683d2d8.css integrity="sha256-D0b5i3I/Kq1LAtk3C7aqeEi1wrKlV5ZCAUCCKDaD0tg=" media=screen><link rel=stylesheet href=/scss/dark-mode.min.79c34391dbcff20df8b4dac718e2606701efcbfdb9f3b08447ac39ac9dc7b463.css integrity="sha256-ecNDkdvP8g34tNrHGOJgZwHvy/2587CER6w5rJ3HtGM=" media=screen><script src=/js/toc.js></script><link type=text/css rel=stylesheet href=/vendor/css/bootstrap.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Material+Icons"><script src=https://cdn.jsdelivr.net/npm/vue-disqus@3/dist/vue-disqus.js></script></head><body><div id=app><div id=sideContainer class=side-container><a class="a-block nav-head false" href=https://www.antoniojgutierrez.com/><div class=nav-title>Murmurations of Neurons</div><div class=nav-subtitle>An exploration of ideas and thoughts on programming, computers, nature and life in general</div></a><div class=nav-link-list><a class="a-block nav-link-item false" href=/about>About me</a>
<a class="a-block nav-link-item active" href=/posts>Archive</a>
<a class="a-block nav-link-item false" href=/categories>Categories</a>
<a class="a-block nav-link-item false" href=/tags>Tags</a>
<a class="a-block nav-link-item false" href=/cv>CV</a>
<a class="a-block nav-link-item false" href=/index.xml>RSS Feed</a></div><div class=nav-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Antonio Gutierrez 2015-2021. CC-BY-NC 4.0</div></div><div id=extraContainer class=extra-container><div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }"></div><div class=pagination><a id=globalBackToTop class="pagination-action animated-visibility" href=#top :class="{ invisible: scrollY == 0 }"><i class="material-icons pagination-action-icon">keyboard_arrow_up</i></a>
<a type=button class=pagination-action id=darkModeToggleButton><span class="material-icons pagination-action-icon" id=darkModeToggleIcon>dark_mode</span></a></div></div><div class=single-column-drawer-container id=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }"><div class=drawer-content><div class=drawer-menu><a class="a-block drawer-menu-item false" href=/about>About me</a>
<a class="a-block drawer-menu-item active" href=/posts>Archive</a>
<a class="a-block drawer-menu-item false" href=/categories>Categories</a>
<a class="a-block drawer-menu-item false" href=/tags>Tags</a>
<a class="a-block drawer-menu-item false" href=/cv>CV</a>
<a class="a-block drawer-menu-item false" href=/index.xml>RSS Feed</a><div class=toc></div></div></div></div><transition name=fade><div id=drawer-mask v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div></transition><nav id=navBar class="navbar sticky-top navbar-light single-column-nav-container"><div id=navBackground class=nav-background></div><div class="container container-narrow nav-content"><button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer>
<i class=material-icons>menu</i></button>
<a id=navTitle class=navbar-brand href=https://www.antoniojgutierrez.com/>Murmurations of Neurons</a>
<button type=button class=nav-darkmode-toggle id=darkModeToggleButton2>
<i class=material-icons id=darkModeToggleIcon2>dark_mode</i></button></div></nav><div class=single-column-header-container id=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }"><a href=https://www.antoniojgutierrez.com/><div class=single-column-header-title>Murmurations of Neurons</div><div class=single-column-header-subtitle>An exploration of ideas and thoughts on programming, computers, nature and life in general</div></a></div><div id=content><div id=streamContainer class=stream-container><div class="post-list-container post-list-container-shadow"><div class=post><div class=post-head-wrapper-text-only><div class=post-title>Removing of an Nvidia GPU from arch Linux with i3<div class=post-meta><time itemprop=datePublished>2017-08-20 00:00</time>
<i class=material-icons>schedule</i>
1 min
17 s.</div></div></div><div class=post-body-wrapper><div class=post-body v-pre><p>This post is to help me and other people that might have had this issue before
(and mostly future me).</p><p>When you have installed an Nvidia GPU in Arch Linux with i3 as Window Manager
(WM), you probably needed to install and <code>nvidia</code> or another similar package,
which contains drivers and generally includes a tool that automatically
creates/modifies the Xorg configuration file (Xorg.conf), for the correct
operation of the GPU in Arch and i3.</p><p>Now the problem is that if you for some reason need to remove the GPU, then
the Xorg.conf will still expect to use the GPU as device for rendering the
Display.</p><p>First a bit of background,</p><p>When you start the X Windows System, an X session will be created. The
standard ways of starting an X session are to run <code>startx</code> from console login
or to login using a Display Manager (DM), such as lightdm (the DM I was
using).</p><p>The solution is simple:
Just remove any reference to nvidia on the Section corresponding to the Device.</p><p>One one you can test the Xorg.conf is in a sane state is by using</p><p>Your /etc/X11/Xorg.conf will look something like this:</p><pre><code>Section &quot;Monitor&quot;
    Identifier      &quot;Monitor0&quot;
    VendorName      &quot;Unknown&quot;
    ModelName       &quot;Unknown&quot;
    HorizSync       28.0 - 33.0
    VertRefresh     43.0 - 72.0
    Option          &quot;DPMS&quot;
EndSection

Section &quot;Device&quot;
    Identifier      &quot;Device0&quot;
    Driver          &quot;nvidia&quot;
    VendorName      &quot;NVIDIA Corporation&quot;
EndSection

Section &quot;Screen&quot;
    Identifer       &quot;Screen0&quot;
    Device          &quot;Device0&quot;
    Monitor         &quot;Monitor0&quot;
    DefaultDepth    24
    SubSection      &quot;Display&quot;
        Depth       24
    EndSubSection
EndSection

</code></pre><p>You should modify it so that it looks like this:</p><pre><code>Section &quot;Monitor&quot;
    Identifier      &quot;Monitor0&quot;
    VendorName      &quot;Unknown&quot;
    ModelName       &quot;Unknown&quot;
    HorizSync       28.0 - 33.0
    VertRefresh     43.0 - 72.0
    Option          &quot;DPMS&quot;
EndSection

Section &quot;Screen&quot;
    Identifer       &quot;Screen0&quot;
    Device          &quot;Device0&quot;
    Monitor         &quot;Monitor0&quot;
    DefaultDepth    24
    SubSection      &quot;Display&quot;
        Depth       24
    EndSubSection
EndSection
</code></pre><hr width=100% id=EOF><p style=color:#777>Last modified on 2017-08-20</p><p class=verify-in-keybase>You can make sure that the author wrote this post by copy-pasting <a href=https://raw.githubusercontent.com/chibby0ne/chibby0ne.github.io/master/posts_signatures/2017-08-20-changing_xorg_conf.asc>this signature</a> into <a href=https://keybase.io/verify>this Keybase page</a>.</p></div></div><nav class=post-pagination><a class=newer-posts href=/posts/2018-03-04-java_priority_queue/>Next<br>Java Util's Priority Queue Mishap</a>
<a class=older-posts href=/posts/2015-02-20-power_of_habit/>Previous<br>The Power of Habit</a></nav><div class=post-comment-wrapper><div id=disqus_thread></div><script>var disqus_config=function(){this.page.url='\/posts\/2017-08-20-changing_xorg_conf\/';this.page.identifier='\/posts\/2017-08-20-changing_xorg_conf\/';};(function(){var d=document,s=d.createElement('script');s.src='https://antoniojgutierrez.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript></div></div></div></div></div><div id=single-column-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Antonio Gutierrez 2015-2021. CC-BY-NC 4.0</div></div><script src=/js/journal.js></script></body></html>