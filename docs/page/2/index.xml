<?xml-stylesheet href="/rss.xsl" type="text/xsl"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Murmurations of Neurons</title><link>https://www.antoniojgutierrez.com/</link><description>Recent content on Murmurations of Neurons</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>Antonio Gutierrez 2015-2021. CC-BY-NC 4.0</copyright><lastBuildDate>Fri, 10 Jun 2022 01:17:07 +0200</lastBuildDate><atom:link href="https://www.antoniojgutierrez.com/index.xml" rel="self" type="application/rss+xml"/><item><title>Log base 10 vs Log base e notation</title><link>https://www.antoniojgutierrez.com/posts/2018-05-07-log_base_10_vs_log_base_e_notation/</link><pubDate>Mon, 07 May 2018 00:00:00 +0000</pubDate><guid>https://www.antoniojgutierrez.com/posts/2018-05-07-log_base_10_vs_log_base_e_notation/</guid><description>Murmurations of Neurons https://www.antoniojgutierrez.com/posts/2018-05-07-log_base_10_vs_log_base_e_notation/ -&lt;p>I wrote this post after struggling for a few hours with the derivation of the negative log-likelihood function , and finding out that the derivative didn&amp;rsquo;t match what was expected, only to find out that it was indeed matching and that instead, there&amp;rsquo;s a discrepancy on the semantics of the &amp;ldquo;&lt;strong>log&lt;/strong>&amp;rdquo; notation.&lt;/p>
&lt;p>Let&amp;rsquo;s go step by step:&lt;/p>
&lt;p>Two of the most common logarithms are the logarithm of base $e$, also called
natural logarithm which is written in two forms:&lt;/p>
&lt;p>$$\ln{x} = \log_{e}{x}$$&lt;/p>
&lt;p>and the logarithm of base 10 also called common logarithm or decimal
logarithm:&lt;/p>
&lt;p>$$\log_{10}{x}$$&lt;/p>
&lt;p>Additionally scientific calculators have a &amp;ldquo;&lt;strong>log&lt;/strong>&amp;rdquo; and a &amp;ldquo;&lt;strong>ln&lt;/strong>&amp;rdquo; function,
which apply the logarithm of base 10 and the logarithm of base $e$ respectively:&lt;/p>
&lt;p>&lt;img src="https://upload.wikimedia.org/wikipedia/commons/8/88/Logarithm_keys.jpg" alt="log keys in calculator">&lt;/p>
&lt;p>By Waifer X - 100502-1150494Uploaded by Pieter Kuiper, CC BY 2.0, &lt;a href="https://commons.wikimedia.org/w/index.php?curid=10715338">link&lt;/a>&lt;/p>
&lt;p>But something that I learned while checking for errors doing the derivative is that mathematicians and calculator designers
have different things in mind when writing &amp;ldquo;&lt;strong>log&lt;/strong>&amp;quot;:&lt;/p>
&lt;p>From Wikipedia&amp;rsquo;s &lt;a href="https://en.wikipedia.org/wiki/Common_logarithm">Common Logarithm&lt;/a>:&lt;/p>
&lt;blockquote>
&lt;p>On calculators it is usually &amp;ldquo;log&amp;rdquo;, but mathematicians usually mean natural logarithm (logarithm with base e ≈ 2.71828) rather than common logarithm when they write &amp;ldquo;log&amp;rdquo;. To mitigate this ambiguity the ISO 80000 specification recommends that $log_{10}{x}$ should be written $lg{x}$ and $log_{e}{x}$ should be $ln{x}$.&lt;/p>
&lt;/blockquote>
&lt;p>And from Wikipedia&amp;rsquo;s &lt;a href="https://en.wikipedia.org/wiki/Natural_logarithm">Natural Logarithm&lt;/a>:&lt;/p>
&lt;blockquote>
&lt;p>The natural logarithm of x is generally written as $ln x$, $log_{e} x$, or sometimes, if the base $e$ is implicit, simply $log x$.&lt;/p>
&lt;/blockquote>
&lt;p>Therefore in the case of the negative log-likelihood function:&lt;/p>
&lt;p>$$ L(\boldsymbol{y}) = - \log(\boldsymbol{y}) $$&lt;/p>
&lt;p>Although it&amp;rsquo;s not implicit that it refers to a logarithm of base $e$, &lt;em>it is
indeed the natural logarithm&lt;/em>, it&amp;rsquo;s just being used as mentioned in the given
excerpt of common logarithm (i.e: mathematicians usually mean natural logarithm when they write &amp;ldquo;log&amp;rdquo;), and therefore its derivative is:&lt;/p>
&lt;p>$$ \dfrac{\partial L_{\boldsymbol{y}}}{\partial \boldsymbol{y}} = -\dfrac{1}{\boldsymbol{y}} $$&lt;/p>
&lt;p>Mathematicians be crazy!&lt;/p>
- https://www.antoniojgutierrez.com/posts/2018-05-07-log_base_10_vs_log_base_e_notation/ - Antonio Gutierrez 2015-2021. CC-BY-NC 4.0</description></item><item><title>Using Javascript completion including adding Google Chrome API in vim</title><link>https://www.antoniojgutierrez.com/posts/2018-04-20-vim-ycm-tern-chrome-extension/</link><pubDate>Fri, 20 Apr 2018 00:00:00 +0000</pubDate><guid>https://www.antoniojgutierrez.com/posts/2018-04-20-vim-ycm-tern-chrome-extension/</guid><description>Murmurations of Neurons https://www.antoniojgutierrez.com/posts/2018-04-20-vim-ycm-tern-chrome-extension/ -&lt;p>&lt;a href="https://github.com/Valloric/YouCompleteMe">YouCompleteMe&lt;/a> is a very powerful code completion engine built
for the vim editor. It has several completion engines for many languages
including C/C++, Rust, Go, Python, Javascript among others. It contains two
parts: a vim-plugin and a daemon.&lt;/p>
&lt;p>A very simple explanation of how YouCompleteMe works is by starting a server
whenever a file is opened whose filetype corresponds to one of the installed
languages engines. After this, the file is analyzed by communicating with from
vim using the vim plugin (client) to the daemon (server).
&lt;em>The languages for which YouCompleteMe provides auto completion are selected
are install time, therefore if you don&amp;rsquo;t explicitly install it selecting a
language, autocompletion for that language will probably be disabled.&lt;/em>&lt;/p>
&lt;p>For Javascript, &lt;a href="http://ternjs.net/">tern&lt;/a> is used for the code analysis. Tern itself
requires a &lt;code>.tern-project&lt;/code> or a &lt;code>.tern-config&lt;/code> file describing the specific
configuration in the root of the project or above or the home directory
respectively. Tern then opens a server in a unused port that listens for POST
requests from a client that asks questions about the code in the form of JSON.&lt;/p>
&lt;p>When vim is started is runs tern in a separate process and starts the
querying whenever possible as described before.&lt;/p>
&lt;p>In addition, tern supports server plugins, which are normal Javascript
programs that add extra functionality to the server. There are a few plugins
that come with the distribution such as doc and nodejs.&lt;/p>
&lt;p>Now what if I wanted to develop a Chrome Extension and wanted the
autocompletion for the Chrome API in vim?&lt;/p>
&lt;p>Well since tern supports this it would be only a matter of installing the tern
plugin and adding the plugin to the &lt;code>.tern-project&lt;/code>.&lt;/p>
&lt;p>First installing the tern Chrome Extension:
I found this &lt;a href="https://www.npmjs.com/package/tern-chrome-extension">tern-chrome-extension&lt;/a> which worked
pretty well.&lt;/p>
&lt;p>And we can&amp;rsquo;t just install it in the project directory that would install it in
the &lt;code>node modules&lt;/code> but vim(and tern) would be aware of it. We have to install it
in &lt;code>node_modules&lt;/code> of the tern instance that&amp;rsquo;s run by vim.&lt;/p>
&lt;p>To find it we run, with a vim instance reading a Javascript file:&lt;/p>
&lt;pre>&lt;code>ps aux | grep tern
&lt;/code>&lt;/pre>&lt;p>We find that the process is running as:&lt;/p>
&lt;pre>&lt;code>/usr/bin/node /home/user/.vim/bundle/YouCompleteMe/third_party/ycmd/third_party/tern_runtime/node_modules/tern/bin/tern --port 46973 --host 127.0.0.1 --persistent --no-port-file
&lt;/code>&lt;/pre>&lt;p>We want to navigate to this directory &lt;code>/home/user/.vim/bundle/YouCompleteMe/third_party/ycmd/third_party/tern_runtime/&lt;/code>, because the &lt;code>node_modules&lt;/code> is the place where we want it to be installed.&lt;/p>
&lt;p>We run:&lt;/p>
&lt;pre>&lt;code>npm install --prefix . tern-chrome-extension
&lt;/code>&lt;/pre>&lt;p>And we make sure everything went ok by checking if there&amp;rsquo;s a directory with
that name in &lt;code>node_modules&lt;/code> or in the &lt;code>package.json&lt;/code>&lt;/p>
&lt;pre>&lt;code>$ cat package.json
{
&amp;quot;description&amp;quot;: &amp;quot;ycmd tern runtime area with required tern version and plugins&amp;quot;,
&amp;quot;dependencies&amp;quot;: {
&amp;quot;tern&amp;quot;: &amp;quot;0.21.0&amp;quot;,
&amp;quot;tern-chrome-extension&amp;quot;: &amp;quot;^46.1.20160420&amp;quot;
}
}
&lt;/code>&lt;/pre>&lt;p>Now all that&amp;rsquo;s needed to create/edit the &lt;code>.tern-project&lt;/code> file, and add the
chrome-extension to the plugins section.&lt;/p>
&lt;pre>&lt;code>$ cat .tern-project
{
&amp;quot;libs&amp;quot;: [
&amp;quot;browser&amp;quot;,
&amp;quot;ecma5&amp;quot;
],
&amp;quot;plugins&amp;quot;: {
&amp;quot;node&amp;quot;: {},
&amp;quot;chrome-extension&amp;quot;: {}
}
}
&lt;/code>&lt;/pre>&lt;p>That&amp;rsquo;s it! Now you can enjoy having the Chrome API completion in vim.&lt;/p>
- https://www.antoniojgutierrez.com/posts/2018-04-20-vim-ycm-tern-chrome-extension/ - Antonio Gutierrez 2015-2021. CC-BY-NC 4.0</description></item><item><title>Automount SMB directory with systemd in Arch</title><link>https://www.antoniojgutierrez.com/posts/2018-04-09-automounting_systemd/</link><pubDate>Mon, 09 Apr 2018 00:00:00 +0000</pubDate><guid>https://www.antoniojgutierrez.com/posts/2018-04-09-automounting_systemd/</guid><description>Murmurations of Neurons https://www.antoniojgutierrez.com/posts/2018-04-09-automounting_systemd/ -&lt;h1 id="problem-statement">Problem statement&lt;/h1>
&lt;p>I wanted to mount a directory from a local desktop in my laptop regardless of
the OS it might be running at the moment. Also, not just mount it. &lt;em>Automount&lt;/em>
it either whenever I boot or on demand.&lt;/p>
&lt;p>At the moment in my particular case, both laptop and desktop are running Arch
Linux.&lt;/p>
&lt;p>First let&amp;rsquo;s do a bit of a primer:&lt;/p>
&lt;h2 id="smb-primer">SMB Primer&lt;/h2>
&lt;p>&lt;em>SMB&lt;/em> is a network protocol (that also acts as a network/distributed file
system) used for sharing file and print services between Windows clients. The
original version was also known as &lt;em>CIFS&lt;/em>, and since then both names are used
interchangeably.&lt;/p>
&lt;p>Samba is a FOSS implementation of the SMB protocol that runs on *nix systems.&lt;/p>
&lt;p>The other competitor to SMB is NFS, but the former is more Windows oriented as
it was originally created for the Microsoft ecosystem, while the latter was
created towards a more *nix friendly environment.&lt;/p>
&lt;p>Using SMB is the traditionally way of sharing directories between Linux/Windows.&lt;/p>
&lt;p>TL;DR: SMB for Windows/Linux. NFS for Linux/Linux.&lt;/p>
&lt;h1 id="what-to-install">What to install&lt;/h1>
&lt;p>You need the install &lt;code>cifs-utils&lt;/code> which provides user-space tools for mounting
SMB/CIFS file systems (or shares as they are also called).&lt;/p>
&lt;p>Basically, &lt;code>cifs-utils&lt;/code> add the possibility of selecting cifs as filesystem to
&lt;code>mount&lt;/code>.&lt;/p>
&lt;h2 id="credentials">Credentials&lt;/h2>
&lt;p>We create a file containing the credentials used for that.
Unfortunately there&amp;rsquo;s no other way that I&amp;rsquo;m aware of, of storing the
credentials other than &lt;em>plaintext&lt;/em>.&lt;/p>
&lt;p>The file should contain two entries as such:&lt;/p>
&lt;pre>&lt;code>username=USERNAME
password=PASSWORD
&lt;/code>&lt;/pre>&lt;p>You should store it somewhere in /etc/samba/ and set its permissions to 600 so
that only root has read/write access.&lt;/p>
&lt;h2 id="mount-file">Mount file&lt;/h2>
&lt;p>The mount file contains the information on how to mount the filesystem.&lt;/p>
&lt;p>One important note is that &lt;strong>the filename should encode the mount point,
otherwise systemd will fail at mounting it&lt;/strong>.&lt;/p>
&lt;p>The filename should be of the pattern:
&lt;code>directory1-directory2-directory3.mount&lt;/code>&lt;/p>
&lt;p>Where the actual path where it is mounted is:&lt;/p>
&lt;p>&lt;code>/directory1/directory2/directory3&lt;/code>&lt;/p>
&lt;p>That is, the internal forward slashes of the path should be the minuses (&amp;quot;-&amp;quot;)
in the filename.&lt;/p>
&lt;p>Otherwise you will get an error like this&lt;/p>
&lt;pre>&lt;code>$ systemctl start mntdir.mount
$ systemctl status mntdir.mount
...
...
mntdir.mount's Where= setting doesn't match unit name. Refusing
&lt;/code>&lt;/pre>&lt;p>This file should contain something like this:&lt;/p>
&lt;pre>&lt;code>[Unit]
Description=DESCRIPTION
Requires=systemd-networkd.service
After=network-online.target
Wants=network-online.target
[Mount]
What=PATH_IN_SMB_SERVER
Where=PATH_TO_MOUNT_POINT
Options=vers=2.1,credentials=CREDENTIALS_PATH,iocharset=utf8,rw,x-systemd.automount
Type=cifs
TimeoutSec=30
[Install]
WantedBy=multi-user.target
&lt;/code>&lt;/pre>&lt;p>Replacing the upper case values with the relevant parameters in your case.&lt;/p>
&lt;h2 id="automount-file">Automount file&lt;/h2>
&lt;p>The automount file contains the information as to where and how to automount.
This automount works on-demand, i.e: it mounts the filesystem when you
navigate to that directory.&lt;/p>
&lt;p>Just like the mount file: the name of the file should encode the mount
location. i.e: it should have the same name as the &lt;code>.mount&lt;/code> file but with the
file extension: &lt;code>.automount&lt;/code>&lt;/p>
&lt;p>Its contents should be something like this:&lt;/p>
&lt;pre>&lt;code>[Unit]
Description=DESCRIPTION
Requires=network-online.target
[Automount]
Where=PATH_TO_MOUNT_POINT
TimeoutIdleSec=0
[Install]
WantedBy=multi-user.target
&lt;/code>&lt;/pre>&lt;p>Replacing the upper case values with the relevant parameters in your case, but
keeping in mind that the &lt;code>PATH_TO_MOUNT_POINT&lt;/code> should be the same as the one
in the &lt;code>.mount&lt;/code> file.&lt;/p>
&lt;p>This file should be enabled so that it runs at boot.&lt;/p>
&lt;pre>&lt;code>systemctl enable mnt-dir.automount
&lt;/code>&lt;/pre>&lt;p>Asumming the mount point is /mnt/dir (and therefore the filename is
mnt-dir.automout).&lt;/p>
&lt;h2 id="tips">Tips&lt;/h2>
&lt;p>In my particulaar case no matter what &lt;code>Requires&lt;/code>, &lt;code>After&lt;/code> and/or &lt;code>Wants&lt;/code>
service you select, enabling the &lt;code>.mount&lt;/code> file so that it runs automatically
at boot, the system will fail to mount it.&lt;/p>
&lt;p>Even more, I found that most guides and tutorials used the automount as the
actual enabled unit, which mounts on demand and not on boot.&lt;/p>
- https://www.antoniojgutierrez.com/posts/2018-04-09-automounting_systemd/ - Antonio Gutierrez 2015-2021. CC-BY-NC 4.0</description></item><item><title>Setting up a Raspberry Pi Cluster (Part 1)</title><link>https://www.antoniojgutierrez.com/posts/2018-03-28-setting_up_rpi_cluster/</link><pubDate>Wed, 28 Mar 2018 00:00:00 +0000</pubDate><guid>https://www.antoniojgutierrez.com/posts/2018-03-28-setting_up_rpi_cluster/</guid><description>Murmurations of Neurons https://www.antoniojgutierrez.com/posts/2018-03-28-setting_up_rpi_cluster/ -&lt;p>I recently decided to set up a raspberry pi cluster, with whom I could
experiment, learn and use cluster technologies like Kubernetes, Apache Hadoop,
Spark, and even small programs using RPC and OpenMP.&lt;/p>
&lt;p>In setting up the raspberry pi (a process which I think I&amp;rsquo;m fairly acquainted
with) I ran through a few things which caught me by surprise, or were
completely new to me, so after being half way into the process I wanted to
write it down so that people that might want to undertake it, can it setup up
much more smoothly.&lt;/p>
&lt;h2 id="hardware">Hardware&lt;/h2>
&lt;p>I chose to be as minimal and cheap as possible.&lt;/p>
&lt;h3 id="devices-and-microsd">Devices and MicroSD&lt;/h3>
&lt;p>The cluster consists of 3 Raspberry Pi&amp;rsquo;s: 2 of which are RPI 3 B+, and other
one is a RPI 3 B, with 2 32 GB and 1 64 GB microSDs respectively.&lt;/p>
&lt;h3 id="network">Network&lt;/h3>
&lt;p>They will be connected to the network using the integrated wifi module. No
external dongles, or ethernet cables are required. Saving money!&lt;/p>
&lt;h3 id="case">Case&lt;/h3>
&lt;p>I bought a dog bone cluster case in Amazon, that fits 4 Pis in case future me
decides to expand the cluster.&lt;/p>
&lt;h3 id="power-supply">Power supply&lt;/h3>
&lt;p>30W 3-Port USB Wall Charger. It can output up to 2 A per port.&lt;/p>
&lt;h2 id="flashing-the-cards">Flashing the cards&lt;/h2>
&lt;p>I flashed the minimal Raspbian Stretch image, since I don&amp;rsquo;t need any GUI or
X session running for applications I have mind (so far at least).&lt;/p>
&lt;p>This process was simple just repeat it 3 times with different micro sd cards.&lt;/p>
&lt;p>I knew that once flashed, I could mount the sd in my desktop, and edit the
&lt;code>boot/&lt;/code> and the &lt;code>rootfs/&lt;/code> partition to configure them whichever way I want, but
there were still a few things I didn&amp;rsquo;t have completely clear.&lt;/p>
&lt;h2 id="configuring-each-device">Configuring each device&lt;/h2>
&lt;p>At first I decided to configure one of them manually so that I can take note
on what group of file configuration constitute the minimum to be able to ssh
to them remotely.&lt;/p>
&lt;p>Immediately I realized I had flashed the smallest image without GUI, therefore
I couldn&amp;rsquo;t attach a Monitor. Ethernet for ssh&amp;rsquo;ing wasn&amp;rsquo;t an option since I
didn&amp;rsquo;t have any spare cables, that could reach the router.&lt;/p>
&lt;p>Fortunately, I have a USB-to-Serial 3.3V cable that can be used to open a
Linux console. In fact, one could argue it is even more useful than having an
Ethernet connection, since it captures even the boot sequence, something you
can&amp;rsquo;t do with ssh.&lt;/p>
&lt;p>So I attached usb cable from my desktop to the pi and powered it on, and I
waited for a bit. Then a longer bit. There was nothing. No output.&lt;/p>
&lt;p>An auspicious start :p&lt;/p>
&lt;p>I quickly remembered something about the RPI 3 changing the way serial
connection is used. So I consult &lt;a href="https://elinux.org/RPi_Serial_Connection">elinux page for RPi Serial Connection&lt;/a>
and effectively, ever since RPI 3, UART is disabled by default.&lt;/p>
&lt;p>I went back, took the microsd out of the pi, and edited the &lt;code>/boot/config.txt&lt;/code>
as mentioned in the wiki, adding a line with &lt;code>enable_uart=1&lt;/code>, popped the
microSD back and now I could see the booting sequence.&lt;/p>
&lt;p>We&amp;rsquo;re in business!&lt;/p>
&lt;p>So I start editing:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;code>/etc/hostname&lt;/code> and &lt;code>/etc/hosts&lt;/code> with the hostnames I wanted to use. In my
case, I&amp;rsquo;m using &lt;code>rpiX&lt;/code> where &lt;code>X&lt;/code> is an increasing number for each device
in the cluster, starting from 0.&lt;/p>
&lt;p>&lt;em>&lt;strong>Note:&lt;/strong>&lt;/em> &lt;em>Initially I only edited &lt;code>/etc/hostname/&lt;/code>, in addition to the
other files, and rebooted, but during the boot sequence I noticed the pi
still used the default &lt;code>raspberry&lt;/code> hostname. After reading the &lt;a href="https://wiki.debian.org/HowTo/ChangeHostname">Debian
Wiki&lt;/a>, I learned that changing /etc/hosts is also required so that local
addresses can resolve with the new hostname&lt;/em>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>/etc/wpa_supplicant/wpa_supplicant.conf&lt;/code>, adding the network entry
with the wifi&amp;rsquo;s SSID and Credentials. This is one of those files that I
could copy to the rest in the cluster.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>/etc/dhcpcd.conf&lt;/code>, setting the static ip address, router, and gateway for
the &lt;code>wlan0&lt;/code> interface (the name used for the interfaces by the raspbian
images). In my case, I&amp;rsquo;m using from &lt;code>192.168.178.X&lt;/code> where &lt;code>X&lt;/code> is an
increasing number for each device in the cluster starting with 5.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>Those are the three files I could think of.&lt;/p>
&lt;p>Then I ran the &lt;code>raspi-config&lt;/code> tool to enable wifi, shrink the GPU, set the
locale, and keyboard layout.&lt;/p>
&lt;p>I rebooted. Everything seem OK. Verified that wifi was working.&lt;/p>
&lt;p>Now all I had to do was copy all the files I edited to the other two microSD
cards, with the consideration of increasing the hostname number (as explained
in #1, and ip address (as explained in #3).&lt;/p>
&lt;p>After doing so, and inserting the remaining microSDs, I was expecting to see
the other two pi&amp;rsquo;s in nmap as I could see the first one, but I couldn&amp;rsquo;t.&lt;/p>
&lt;p>At this point I remembered that even with the configuration of the interface
(dhcpcd more precisely) and wpa_supplicant, I still had to run &lt;code>raspi-config&lt;/code>
to enable the wifi and bluetooth. I thought this might be a rfkill switch on
disabling the radio signals.&lt;/p>
&lt;p>Using the usb serial cable I checked the status of dhcpcd.service:&lt;/p>
&lt;p>&lt;em>&lt;strong>Note&lt;/strong>&lt;/em> &lt;em>The artifacts shown in the output are part of the minicom output&lt;/em>&lt;/p>
&lt;pre>&lt;code>pi@rpi1:/dev$ sudo systemctl status dhcpcd.service
â● dhcpcd.service - dhcpcd on all interfaces
Loaded: loaded (/lib/systemd/system/dhcpcd.service; enabled; vendor preset: e
Drop-In: /etc/systemd/system/dhcpcd.service.d
â└â─wait.conf
Active: active (running) since Tue 2018-03-13 22:53:56 UTC; 2h 1min ago
Process: 331 ExecStart=/usr/lib/dhcpcd5/dhcpcd -q -w (code=exited, status=0/SU
Main PID: 457 (dhcpcd)
CGroup: /system.slice/dhcpcd.service
â├â417 wpa_supplicant -B -c/etc/wpa_supplicant/wpa_supplicant.conf -iw
â└â─457 /sbin/dhcpcd -q -w
Mar 13 22:53:26 rpi1 dhcpcd[331]: wlan0: if_up: Operation not possible due to RF
Mar 13 22:53:26 rpi1 dhcpcd[331]: wlan0: waiting for carrier
&lt;/code>&lt;/pre>&lt;p>The line that confirms it is:&lt;/p>
&lt;pre>&lt;code>Mar 13 22:53:26 rpi1 dhcpcd[331]: wlan0: if_up: Operation not possible due to RF
&lt;/code>&lt;/pre>&lt;p>I knew about Linux&amp;rsquo;s rfkill because that&amp;rsquo;s what laptops enable/disable when
you press the function (Fn) key that enables/disable wifi in Linux. There are
two types of block: soft and hard block. Normally laptops&amp;rsquo; Fn key shortcut
enable/disable a soft block.&lt;/p>
&lt;p>To find out what case is there is I ran:&lt;/p>
&lt;pre>&lt;code>pi@rpi1:/dev$ rfkill list all
0: phy0: Wireless LAN
Soft blocked: yes
Hard blocked: no
1: hci0: Bluetooth
Soft blocked: no
Hard blocked: no
&lt;/code>&lt;/pre>&lt;p>I ran &lt;code>rfkill unblock all&lt;/code> and verified that the Wireless was indeed
unblocked.&lt;/p>
&lt;p>I didn&amp;rsquo;t know of another way of unblocking the radios, other than the command
line utility, therefore no copying of file there. Or is there?&lt;/p>
&lt;p>I could add this line to the &lt;code>/etc/rc.local&lt;/code> script, that is run by init after
the system finished changing runlevels as part of the boot process.&lt;/p>
&lt;p>Although there was only one more pi left to be configured I wanted to see if I
could set it up the wifi connection from the microSD without booting the pi.&lt;/p>
&lt;p>So I did this for the 3rd pi&amp;rsquo;s microSD card, and verified with nmap from my
desktop.&lt;/p>
&lt;pre>&lt;code>Nmap scan report for 192.168.178.7
Host is up (0.073s latency).
&lt;/code>&lt;/pre>&lt;p>Finally, I was able to set up a pi&amp;rsquo;s wifi by directly editing the microsd on
my desktop, without needing to boot into the device. All in all, it was a
very enlightening experience.&lt;/p>
&lt;p>Now that I can ssh to it, I don&amp;rsquo;t expect to disassemble the cluster again
again to attach the usb-serial cable (which I did two times =( ), to set up
the kubernetes/hadoop tech stack.&lt;/p>
- https://www.antoniojgutierrez.com/posts/2018-03-28-setting_up_rpi_cluster/ - Antonio Gutierrez 2015-2021. CC-BY-NC 4.0</description></item><item><title>"Open Terminal Here" using thunar in i3</title><link>https://www.antoniojgutierrez.com/posts/2018-03-22-opening_terminal_here/</link><pubDate>Thu, 22 Mar 2018 00:00:00 +0000</pubDate><guid>https://www.antoniojgutierrez.com/posts/2018-03-22-opening_terminal_here/</guid><description>Murmurations of Neurons https://www.antoniojgutierrez.com/posts/2018-03-22-opening_terminal_here/ -&lt;p>I have i3 and &lt;em>some&lt;/em> xfce4 packages installed in an Arch Linux installation.
I mostly use i3 because I like how it, as a tiling manager, efficiently uses
all of the monitor&amp;rsquo;s real state.&lt;/p>
&lt;p>Something that I might forget in the future and was mildly annoying when I
made the shift to i3, is making sure thunar (xfce4 file manager) had the
option of &lt;em>Open Terminal Here&lt;/em> &lt;strong>and&lt;/strong> that it opened the right terminal.
After a few minutes of googling, I figured out how to add the option.&lt;/p>
&lt;p>Problem was that it was always opening &lt;code>xfce4-terminal&lt;/code>, and not &lt;code>urvxt&lt;/code> terminal
which is the terminal emulator I use for i3.&lt;/p>
&lt;p>After digging in a bit, I discovered that the &lt;em>Open Terminal Here&lt;/em> option is
actually a custom action of thunar itself, that can be edited in &lt;code>Edit &amp;gt; Configure custom actions...&lt;/code>, there you find the action &lt;em>Open Terminal
Here&lt;/em> After clicking edit I could see the command that is being executed. The
funny thing is that it didn&amp;rsquo;t execute xfce4-terminal. Instead it runs
&lt;code>exo-open&lt;/code>.&lt;/p>
&lt;p>That&amp;rsquo;s how I learned that &lt;code>exo-open&lt;/code> is a shell command that is comes with the
&lt;code>exo&lt;/code> package, and allows you open urls and launch preferred applications in xfce4.&lt;/p>
&lt;p>All I needed to do then is to modify the preferred application for terminal
emulator in &lt;code>xfce4-settings-manager&lt;/code>, set &lt;code>urxvt&lt;/code> and voila!&lt;/p>
- https://www.antoniojgutierrez.com/posts/2018-03-22-opening_terminal_here/ - Antonio Gutierrez 2015-2021. CC-BY-NC 4.0</description></item><item><title>libtinfo in Arch Linux</title><link>https://www.antoniojgutierrez.com/posts/2018-03-06-libtinfo_in_arch/</link><pubDate>Tue, 06 Mar 2018 00:00:00 +0000</pubDate><guid>https://www.antoniojgutierrez.com/posts/2018-03-06-libtinfo_in_arch/</guid><description>Murmurations of Neurons https://www.antoniojgutierrez.com/posts/2018-03-06-libtinfo_in_arch/ -&lt;p>&lt;em>&lt;strong>pacaur&lt;/strong>&lt;/em> is &amp;ldquo;a AUR Helper which minimizes user interaction&amp;rdquo;
meaning it helps us install AUR packages without too much hassle.&lt;/p>
&lt;p>With it I install and update packages like spotify and google-chrome which are
not in the official repositories i.e: core, extra, community or multilib
repositories.&lt;/p>
&lt;p>What does this have to do with libtinfo?&lt;/p>
&lt;p>Well libtinfo (more specifically libtinfo5) was one of those packages managed
by pacaur. Problem is every time I did an update it warned with:&lt;/p>
&lt;pre>&lt;code>libtinfo5 not present in AUR with pacaur --skipping
&lt;/code>&lt;/pre>&lt;p>Meaning that it wasn&amp;rsquo;t being maintained anymore since it is not in the AUR.&lt;/p>
&lt;p>So I decide to remove it. I couldn&amp;rsquo;t remember what I was using it for, but I
was sure it wasn&amp;rsquo;t very important, and in case something failed I&amp;rsquo;d just
google it. I also removed several other packages because I disliked seeing
that message.&lt;/p>
&lt;p>Uninstalled. Rebooted. Opened a Terminal&amp;hellip;. Couldn&amp;rsquo;t open a Terminal. Looks
like one of the packages was actually important.&lt;/p>
&lt;p>I switch to console mode, since I need a shell if I want to reinstall any of
the packages I uninstalled again.&lt;/p>
&lt;p>I try logging in with my user&amp;hellip; A quick refresh of the terminal and nothing happens.&lt;/p>
&lt;p>Mmm&amp;hellip; let&amp;rsquo;s try loggin in as root. It worked!&lt;/p>
&lt;p>Now just for science (queue meme), I tried try to su as my user, I get the
clue:&lt;/p>
&lt;pre>&lt;code>zsh: error while loading shared libraries: libtinfo.so.6: cannot open shared object file: No such file or directory
&lt;/code>&lt;/pre>&lt;p>Turns out &lt;code>libtinfo&lt;/code> is a library that &lt;em>normally&lt;/em> (read: in other distros)
gets installed when installing &lt;code>libncurses&lt;/code>, just &lt;em>&lt;strong>not&lt;/strong>&lt;/em> in Arch.&lt;/p>
&lt;p>&lt;code>libtinfo&lt;/code> is in turn is required by zsh (I discovered from the message),
which is the shell I&amp;rsquo;m using, and since this failed it prevented me from
opening a terminal emulator.&lt;/p>
&lt;p>A quick google revealed the best working solution:&lt;/p>
&lt;pre>&lt;code>ln -s libncursesw.so.6 libtinfo.so.6
&lt;/code>&lt;/pre>&lt;p>This solution doesn&amp;rsquo;t require you to install the old unmaintained package again,
and can be done for any version of &lt;code>libncurses&lt;/code>.&lt;/p>
&lt;p>In the future, the package maintainers of &lt;code>libncurses&lt;/code> should probably add
this symbolic link as part of the package installation.&lt;/p>
&lt;p>Credits to &lt;a href="https://bbs.archlinux.org/viewtopic.php?id=142384">this Arch Linux Forum
thread&lt;/a> for the idea.&lt;/p>
&lt;p>I later also noticed that someone commented on the &lt;a href="https://aur.archlinux.org/packages/libtinfo5/">AUR package
website&lt;/a> itself with the same
approach.&lt;/p>
- https://www.antoniojgutierrez.com/posts/2018-03-06-libtinfo_in_arch/ - Antonio Gutierrez 2015-2021. CC-BY-NC 4.0</description></item><item><title>Java Util's Priority Queue Mishap</title><link>https://www.antoniojgutierrez.com/posts/2018-03-04-java_priority_queue/</link><pubDate>Sun, 04 Mar 2018 00:00:00 +0000</pubDate><guid>https://www.antoniojgutierrez.com/posts/2018-03-04-java_priority_queue/</guid><description>Murmurations of Neurons https://www.antoniojgutierrez.com/posts/2018-03-04-java_priority_queue/ -&lt;p>I recently found out by doing &lt;a href="https://www.hackerrank.com/challenges/bfsshortreach">Hackerrank&amp;rsquo;s Breadth First Search: Shortest
Reach&lt;/a> that Java&amp;rsquo;s
Priority Queue does not maintain the heap property if you modify the priority
of one of the elements in the queue. The only moment where the heap property
is maintained is when the queue is being populated, i.e: when elements are
added to the queue.&lt;/p>
&lt;p>This is better shown with a small example.&lt;/p>
&lt;p>Here&amp;rsquo;s a simple PriorityQueue used as a min priority queue, of Vertex, which
represents a vertex (node) of a Graph and its members are its index and its
distance to the source vertex.&lt;/p>
&lt;p>The relevant parts of the implementation are:&lt;/p>
&lt;pre>&lt;code>class Vertex {
private int distance;
private int index;
public int getDistance() {
return distance;
}
public void setDistance(int d) {
distance = d;
}
.
.
.
import java.util.PriorityQueue;
class Example {
public static void main(String[] args) {
PriorityQueue&amp;lt;Vertex&amp;gt; queue = new PriorityQueue&amp;lt;Vertex&amp;gt;(n, new Comparator&amp;lt;Vertex&amp;gt;() {
@Override
public int compare(Vertex o1, Vertex o2) {
if (o1.getDistance() &amp;lt; o2.getDistance()) {
return -1;
} else if (o1.getDistance() &amp;gt; o2.getDistance()) {
return 1;
}
return 0;
}
});
Vertex[] vertices = new Vertex[10];
// initialize the vertices and add them to the queue
for (int i = 0; i &amp;lt; 10; i++) {
vertices[i] = new Vertex(i);
vertices[i].setDistance(i + 1);
queue.add(v);
}
}
.
.
.
}
&lt;/code>&lt;/pre>&lt;p>The constructor that takes a Comparator is necessary to establish the priority
of the elements and the structure of the heap in the backend.
In our case, the priority is given by the distance of the Vertex.&lt;/p>
&lt;p>The problem surges in that if we later do:&lt;/p>
&lt;pre>&lt;code> v[i].setDistance(0);
&lt;/code>&lt;/pre>&lt;p>The position in the queue will not change, i.e &lt;strong>the heap in the backend
remains in the same state as it was before the distance for &lt;em>v[i]&lt;/em> was changed&lt;/strong>.
The only moment where the priority queue actually runs the comparator is when
is when the queue is being acted upon i.e: either when using &lt;em>add&lt;/em> or &lt;em>remove&lt;/em>
methods.&lt;/p>
&lt;pre>&lt;code> \\ initial state
v[i].setDistance(0);
\\ same state as 'initial state'!
&lt;/code>&lt;/pre>&lt;p>The only way to achieve the expected result is to
do this:&lt;/p>
&lt;pre>&lt;code> // initial state i.e: v[i] is in position P
v[i].setDistance(0);
// same state as initial state i.e: v[i] is in position P
queue.remove(v[i]);
queue.add(v[i]);
// different state i.e: v[i] is in position Q, in a different from the position it was in `initial state`
&lt;/code>&lt;/pre>&lt;p>It&amp;rsquo;s crazy to think I spent the better part of two hours thinking and looking
into the code just to start doubting everything I know and then realize that
the issue is in that the implementation doesn&amp;rsquo;t work as one might expect.&lt;/p>
&lt;p>I don&amp;rsquo;t suppose everyone thinks the same way I do, but it would have been nice
if the class contained some method that could &lt;em>reheapify&lt;/em> the priority queue
or something in that regard.&lt;/p>
&lt;p>Oh well, I&amp;rsquo;ve learned my lesson now, Java Class Library. &lt;em>Never make any
assumption about your behaviour&lt;/em>&lt;/p>
- https://www.antoniojgutierrez.com/posts/2018-03-04-java_priority_queue/ - Antonio Gutierrez 2015-2021. CC-BY-NC 4.0</description></item><item><title>Removing of an Nvidia GPU from arch Linux with i3</title><link>https://www.antoniojgutierrez.com/posts/2017-08-20-changing_xorg_conf/</link><pubDate>Sun, 20 Aug 2017 00:00:00 +0000</pubDate><guid>https://www.antoniojgutierrez.com/posts/2017-08-20-changing_xorg_conf/</guid><description>Murmurations of Neurons https://www.antoniojgutierrez.com/posts/2017-08-20-changing_xorg_conf/ -&lt;p>This post is to help me and other people that might have had this issue before
(and mostly future me).&lt;/p>
&lt;p>When you have installed an Nvidia GPU in Arch Linux with i3 as Window Manager
(WM), you probably needed to install and &lt;code>nvidia&lt;/code> or another similar package,
which contains drivers and generally includes a tool that automatically
creates/modifies the Xorg configuration file (Xorg.conf), for the correct
operation of the GPU in Arch and i3.&lt;/p>
&lt;p>Now the problem is that if you for some reason need to remove the GPU, then
the Xorg.conf will still expect to use the GPU as device for rendering the
Display.&lt;/p>
&lt;p>First a bit of background,&lt;/p>
&lt;p>When you start the X Windows System, an X session will be created. The
standard ways of starting an X session are to run &lt;code>startx&lt;/code> from console login
or to login using a Display Manager (DM), such as lightdm (the DM I was
using).&lt;/p>
&lt;p>The solution is simple:
Just remove any reference to nvidia on the Section corresponding to the Device.&lt;/p>
&lt;p>One one you can test the Xorg.conf is in a sane state is by using&lt;/p>
&lt;p>Your /etc/X11/Xorg.conf will look something like this:&lt;/p>
&lt;pre>&lt;code>Section &amp;quot;Monitor&amp;quot;
Identifier &amp;quot;Monitor0&amp;quot;
VendorName &amp;quot;Unknown&amp;quot;
ModelName &amp;quot;Unknown&amp;quot;
HorizSync 28.0 - 33.0
VertRefresh 43.0 - 72.0
Option &amp;quot;DPMS&amp;quot;
EndSection
Section &amp;quot;Device&amp;quot;
Identifier &amp;quot;Device0&amp;quot;
Driver &amp;quot;nvidia&amp;quot;
VendorName &amp;quot;NVIDIA Corporation&amp;quot;
EndSection
Section &amp;quot;Screen&amp;quot;
Identifer &amp;quot;Screen0&amp;quot;
Device &amp;quot;Device0&amp;quot;
Monitor &amp;quot;Monitor0&amp;quot;
DefaultDepth 24
SubSection &amp;quot;Display&amp;quot;
Depth 24
EndSubSection
EndSection
&lt;/code>&lt;/pre>&lt;p>You should modify it so that it looks like this:&lt;/p>
&lt;pre>&lt;code>Section &amp;quot;Monitor&amp;quot;
Identifier &amp;quot;Monitor0&amp;quot;
VendorName &amp;quot;Unknown&amp;quot;
ModelName &amp;quot;Unknown&amp;quot;
HorizSync 28.0 - 33.0
VertRefresh 43.0 - 72.0
Option &amp;quot;DPMS&amp;quot;
EndSection
Section &amp;quot;Screen&amp;quot;
Identifer &amp;quot;Screen0&amp;quot;
Device &amp;quot;Device0&amp;quot;
Monitor &amp;quot;Monitor0&amp;quot;
DefaultDepth 24
SubSection &amp;quot;Display&amp;quot;
Depth 24
EndSubSection
EndSection
&lt;/code>&lt;/pre>- https://www.antoniojgutierrez.com/posts/2017-08-20-changing_xorg_conf/ - Antonio Gutierrez 2015-2021. CC-BY-NC 4.0</description></item><item><title>The Power of Habit</title><link>https://www.antoniojgutierrez.com/posts/2015-02-20-power_of_habit/</link><pubDate>Fri, 20 Feb 2015 00:00:00 +0000</pubDate><guid>https://www.antoniojgutierrez.com/posts/2015-02-20-power_of_habit/</guid><description>Murmurations of Neurons https://www.antoniojgutierrez.com/posts/2015-02-20-power_of_habit/ -&lt;p>This morning (or afternoon if you&amp;rsquo;re not a morning person) did you consciously decide which shoe to put first? What about shaving after or before taking a shower? Do you remember taking time to decide?&lt;/p>
&lt;p>If your answer is No, then you were in the middle of a loop. A habit loop.&lt;/p>
&lt;p>Yesterday I started reading a book called, &lt;strong>The Power of Habit&lt;/strong>, by Charles Duhigg. The premise is that habits are as much part of our brain as memory and reason. But in contrast to the latter, when we act by habit it is normally not consciously, more like second-nature, like a reflex. Habits served an evolutionary purpose in the survival of our species many eons ago, and they still continue to pervade our daily lives in invisible ways, but sometimes they can work against our own wellbeing.&lt;/p>
&lt;p>That we are not the paramounts of logic and reason as we would like to be is a shocking discovery by itself, but reading the examples the author gives of people suffering from memory disorders, addictions, and uncontrolled behaviours is eye opening to say the least.&lt;/p>
&lt;p>I&amp;rsquo;m not sure this is the best place to make book reviews but I still want to say it somewhere besides the normal &lt;a href="http://www.goodreads.com">Goodreads&lt;/a> review.&lt;/p>
&lt;p>That&amp;rsquo;s all for now!&lt;/p>
- https://www.antoniojgutierrez.com/posts/2015-02-20-power_of_habit/ - Antonio Gutierrez 2015-2021. CC-BY-NC 4.0</description></item><item><title>Finally Looking OK</title><link>https://www.antoniojgutierrez.com/posts/2015-01-28-finally_looking_ok/</link><pubDate>Wed, 28 Jan 2015 00:00:00 +0000</pubDate><guid>https://www.antoniojgutierrez.com/posts/2015-01-28-finally_looking_ok/</guid><description>Murmurations of Neurons https://www.antoniojgutierrez.com/posts/2015-01-28-finally_looking_ok/ -&lt;p>After several hours of googling, hacking, reading, and messing around with Firefox Inspector tool, things are starting to look a bit better. I&amp;rsquo;ve added a mini-bio and also a dummy first post, just trying things out.&lt;/p>
&lt;p>I&amp;rsquo;ve been almost about to give up several times during the day but then again, as Benjamin Franklin said: &amp;ldquo;&lt;strong>Energy and Persistence conquer all things&lt;/strong>&amp;rdquo;.&lt;/p>
&lt;p>That&amp;rsquo;s all for now, let&amp;rsquo;s see what else I come up with.&lt;/p>
- https://www.antoniojgutierrez.com/posts/2015-01-28-finally_looking_ok/ - Antonio Gutierrez 2015-2021. CC-BY-NC 4.0</description></item></channel></rss>